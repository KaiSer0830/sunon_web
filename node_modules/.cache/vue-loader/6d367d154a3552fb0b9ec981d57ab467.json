{"remainingRequest":"E:\\daily software download\\Git_files\\KaiSer0830\\sunon_web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\daily software download\\Git_files\\KaiSer0830\\sunon_web\\src\\components\\system\\tools\\TableData.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\daily software download\\Git_files\\KaiSer0830\\sunon_web\\src\\components\\system\\tools\\TableData.vue","mtime":1617895766148},{"path":"E:\\daily software download\\Git_files\\KaiSer0830\\sunon_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1614665819498},{"path":"E:\\daily software download\\Git_files\\KaiSer0830\\sunon_web\\node_modules\\babel-loader\\lib\\index.js","mtime":1614665890939},{"path":"E:\\daily software download\\Git_files\\KaiSer0830\\sunon_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1614665819498},{"path":"E:\\daily software download\\Git_files\\KaiSer0830\\sunon_web\\node_modules\\vue-loader\\lib\\index.js","mtime":1614665880007}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from 'axios'\nexport default {\n\tprops: {\n\t\tdataUrl: {\n\t\t\ttype: String,\n\t\t\tdefault: 'http://121.43.158.185:8082/system/company/companyList'\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\treceiceData: [],\t\t\t//接口接收的所有数据\n\t\t\tallSelectFlag: false,\t\t//checkbox全选标志位\n\t\t\tlocalStartPageNumber: 0,\t\t//当页的开始数据条数\n\t\t\tlocalEndPageNumber: 0,\t\t//当页的结束数据条数\n\t\t\teveryPageNumber: 10,\t\t//每页的数据条数 \n\t\t\tallPageNumber: 0,\t\t\t//所有的页数\n\t\t\tallDataNumber: 0,\t\t\t//所有的数据条数\n\t\t\tselectPageNumList: [10, 25, 50, 100],\t\t//每页记录条数设置的列表\n\t\t\tactivePageNumber: 1,\t\t//当前活跃的页数\n\t\t\tchangePageRangeList: [1, 2, 3, 4, 5]\t\t\t//总页数超过5页时的最大显示页数\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.$axios.get(this.dataUrl).then((res) => {\n\t\t\t// console.log(res.data);\n\t\t\tthis.allDataNumber = res.data.data.total;\n\t\t\tif(this.allDataNumber % this.everyPageNumber == 0) {\n\t\t\t\tthis.allPageNumber = this.allDataNumber / this.everyPageNumber;\n\t\t\t}else {\n\t\t\t\tthis.allPageNumber = parseInt(this.allDataNumber / this.everyPageNumber) + 1;\n\t\t\t}\n\t\t\tthis.tableContentChange();\n\t\t});\n\t},\n\tmethods: {\n\t\tcheckboxChanged() {\t\t//总checkbox的状态改变函数\n\t\t\tthis.allSelectFlag = !this.allSelectFlag;\n\t\t},\n\t\tdataModify(item) {\t\t//点击某个数据修改按钮\n\t\t\tconsole.log(item);\n\t\t},\n\t\tdataDelete(item) {\t\t//点击某个数据删除按钮\n\t\t\tconsole.log(item);\n\t\t},\n\t\tchangeEveryPageNumber(item) {\t\t//改变每一页的数据条数\n\t\t\tthis.everyPageNumber = item;\n\t\t\t//重新设置总页数\n\t\t\tif(this.allDataNumber % this.everyPageNumber == 0) {\n\t\t\t\tthis.allPageNumber = this.allDataNumber / this.everyPageNumber;\n\t\t\t}else {\n\t\t\t\tthis.allPageNumber = parseInt(this.allDataNumber / this.everyPageNumber) + 1;\n\t\t\t}\n\t\t\t//如果之前活跃的某页数已经超过更新的总页数，则将活跃的页数设置为最后一页\n\t\t\tif(this.activePageNumber > this.allPageNumber) { \n\t\t\t\tthis.activePageNumber = this.allPageNumber;\n\t\t\t}\n\t\t\tthis.tableContentChange();\t\t\t//更新表格内容\n\t\t},\n\t\tchangeActivePageNumber(index) {\t\t\t//切换活跃的页面函数\n\t\t\tthis.pageRangeChage(index);\t\t\t//改变分页的页面范围函数\n\t\t\tthis.activePageNumber = index;\n\t\t\tthis.tableContentChange();\t\t\t//更新表格内容\n\t\t},\n\t\ttableContentChange() {\t\t\t//更新表格内容\n\t\t\tthis.$axios.get(this.dataUrl+ '?limit=' + this.everyPageNumber.toString() + '&offset=' + ((this.activePageNumber - 1) * this.everyPageNumber).toString()).then((res) => {\n\t\t\t\tthis.receiceData = res.data.data.rows;\n\t\t\t\tthis.localStartPageNumber = (this.activePageNumber - 1) * this.everyPageNumber + 1;\n\t\t\t\tif((this.allDataNumber - this.activePageNumber * this.everyPageNumber) > 0) {\n\t\t\t\t\tthis.localEndPageNumber = (this.activePageNumber - 1) * this.everyPageNumber + this.everyPageNumber;\n\t\t\t\t}else {\t\t\t//最后一页时\n\t\t\t\t\tthis.localEndPageNumber = this.allDataNumber;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tactivePageMove(type) {\t\t//左右单箭头与双箭头切换活跃页面的函数\n\t\t\tif(type == -1 && this.activePageNumber > 1) {\t\t//点击左单箭头时\n\t\t\t\tthis.pageRangeChage(this.activePageNumber - 1);\n\t\t\t\tthis.activePageNumber--;\n\t\t\t}else if(type == 1 && this.activePageNumber < this.allPageNumber) {\t\t//点击右单箭头时\n\t\t\t\tthis.pageRangeChage(this.activePageNumber + 1);\n\t\t\t\tthis.activePageNumber++;\n\t\t\t}else if(type == -2 && this.activePageNumber > 1) {\t\t//点击左双箭头时\n\t\t\t\tif(this.allPageNumber > 5) this.changePageRangeList = [1, 2, 3, 4, 5];\n\t\t\t\tthis.activePageNumber = 1;\n\t\t\t}else if(type == 2 && this.activePageNumber < this.allPageNumber) {\t\t//点击右双箭头时\n\t\t\t\tif(this.allPageNumber > 5) {\n\t\t\t\t\tfor(let i = 0; i < this.changePageRangeList.length; i++) {\n\t\t\t\t\t\tthis.changePageRangeList[i] = this.allPageNumber - 4 + i;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.activePageNumber = this.allPageNumber;\n\t\t\t}\n\t\t\tthis.tableContentChange();\n\t\t},\n\t\tpageRangeChage(index) {\t\t\t//改变分页的页面范围函数\n\t\t\t//点击的index左边或右边存在2个数的情况时\n\t\t\tif((index + 2 <= this.allPageNumber && index - 2 >= 1)) {\n\t\t\t\tlet tempNum = this.changePageRangeList[2];\n\t\t\t\tfor(let i = 0; i < this.changePageRangeList.length; i++) {\n\t\t\t\t\tthis.changePageRangeList[i] += index - tempNum;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//点击的index左边只存在一个数的情况，单独考虑，只向左移一位\n\t\t\tif(index == this.changePageRangeList[0] && index > 1) {\n\t\t\t\tfor(let i = 0; i < this.changePageRangeList.length; i++) {\n\t\t\t\t\tthis.changePageRangeList[i] -= 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//击的index右边只存在一个数的情况，单独考虑，只向右移一位\n\t\t\telse if(index == this.changePageRangeList[4] && index < this.allPageNumber) {\n\t\t\t\tfor(let i = 0; i < this.changePageRangeList.length; i++) {\n\t\t\t\t\tthis.changePageRangeList[i] += 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n",{"version":3,"sources":["TableData.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TableData.vue","sourceRoot":"src/components/system/tools","sourcesContent":["<template>\r\n\t<div class=\"table_containter\">\r\n\t\t<div class=\"table_head\">\r\n\t\t\t<div class=\"table_button_box\">\r\n\t\t\t\t<span class=\"table_button_box_word\">+</span>添加\r\n\t\t\t</div>\r\n\t\t\t<div class=\"table_input_box\">\r\n\t\t\t\t<input class=\"table_input_frame\" />\r\n\t\t\t\t<div class=\"table_input_frame_button\">查询</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"table_content\">\r\n\t\t\t<table class=\"table table-bordered table-hover table-striped\">\r\n\t\t\t\t<thead>\r\n\t\t\t\t\t<tr v-if=\"allDataNumber != 0\">\r\n\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t<input type=\"checkbox\" @click=\"checkboxChanged()\"></input>\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t<th v-for=\"(item, key, index) in receiceData[0]\">{{key}}</th>\r\n\t\t\t\t\t\t<th>操作</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t<tr  v-for=\"(item, index) in receiceData\" class=\"active\">\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<input type=\"checkbox\" :checked=\"allSelectFlag\"></input>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td v-for=\"(subItem, subIndex) in item\">{{subItem}}</td>\r\n\t\t\t\t\t\t<td class=\"operate_button\">\r\n\t\t\t\t\t\t\t<div class=\"modify_button\">\r\n\t\t\t\t\t\t\t\t<img src=\"../../../assets/system/table/modify.png\" @click=\"dataModify(item)\"/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"delete_button\">\r\n\t\t\t\t\t\t\t\t<img src=\"../../../assets/system/table/delete.png\"  @click=\"dataDelete(item)\"/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t\t<div class=\"table_bottom\">\r\n\t\t\t<div v-if=\"allDataNumber != 0\" class=\"table_left_number_info\">\r\n\t\t\t\t<div v-if=\"allDataNumber <= 10\">\r\n\t\t\t\t\t显示第1到{{allDataNumber}}条记录，总共{{allDataNumber}}条记录\r\n\t\t\t\t</div>\r\n\t\t\t\t<div v-else class=\"table_left_more_number\">\r\n\t\t\t\t\t<span>显示第{{localStartPageNumber}}到{{localEndPageNumber}}条记录，总共{{allDataNumber}}条记录，每页显示</span>\r\n\t\t\t\t\t<div class=\"table_left_select_box\">\r\n\t\t\t\t\t\t<div class=\"table_left_select_content\">\r\n\t\t\t\t\t\t\t<span>{{everyPageNumber}}</span>\r\n\t\t\t\t\t\t\t<img src=\"../../../assets/system/table/up_arrow.png\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"select_box_dropup_content\">\r\n\t\t\t\t\t\t\t<div v-for=\"item in selectPageNumList\" class=\"select_box_dropup_row\" @click=\"changeEveryPageNumber(item)\">{{item}}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<span>条记录</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div v-if=\"allPageNumber > 1\" class=\"table_right_page_info\">\r\n\t\t\t\t<div class=\"table_right_square\" @click=\"activePageMove(-2)\">\r\n\t\t\t\t\t<img src=\"../../../assets/system/table/left_double_arrow.png\"/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"table_right_square\" @click=\"activePageMove(-1)\">\r\n\t\t\t\t\t<img src=\"../../../assets/system/table/left_arrow.png\"/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div v-if=\"allPageNumber <= 5\" v-for=\"index in allPageNumber\" :class=\"index == activePageNumber ? 'table_right_square_active':'table_right_square_num'\" @click=\"changeActivePageNumber(index)\">\r\n\t\t\t\t\t{{index}}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div v-if=\"allPageNumber > 5\" v-for=\"index in changePageRangeList\" :class=\"index == activePageNumber ? 'table_right_square_active':'table_right_square_num'\" @click=\"changeActivePageNumber(index)\">\r\n\t\t\t\t\t{{index}}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"table_right_square\" @click=\"activePageMove(1)\">\r\n\t\t\t\t\t<img src=\"../../../assets/system/table/right_arrow.png\"/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"table_right_square\" @click=\"activePageMove(2)\">\r\n\t\t\t\t\t<img src=\"../../../assets/system/table/right_double_arrow.png\"/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport axios from 'axios'\r\n\texport default {\r\n\t\tprops: {\r\n\t\t\tdataUrl: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'http://121.43.158.185:8082/system/company/companyList'\r\n\t\t\t},\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\treceiceData: [],\t\t\t//接口接收的所有数据\r\n\t\t\t\tallSelectFlag: false,\t\t//checkbox全选标志位\r\n\t\t\t\tlocalStartPageNumber: 0,\t\t//当页的开始数据条数\r\n\t\t\t\tlocalEndPageNumber: 0,\t\t//当页的结束数据条数\r\n\t\t\t\teveryPageNumber: 10,\t\t//每页的数据条数 \r\n\t\t\t\tallPageNumber: 0,\t\t\t//所有的页数\r\n\t\t\t\tallDataNumber: 0,\t\t\t//所有的数据条数\r\n\t\t\t\tselectPageNumList: [10, 25, 50, 100],\t\t//每页记录条数设置的列表\r\n\t\t\t\tactivePageNumber: 1,\t\t//当前活跃的页数\r\n\t\t\t\tchangePageRangeList: [1, 2, 3, 4, 5]\t\t\t//总页数超过5页时的最大显示页数\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.$axios.get(this.dataUrl).then((res) => {\r\n\t\t\t\t// console.log(res.data);\r\n\t\t\t\tthis.allDataNumber = res.data.data.total;\r\n\t\t\t\tif(this.allDataNumber % this.everyPageNumber == 0) {\r\n\t\t\t\t\tthis.allPageNumber = this.allDataNumber / this.everyPageNumber;\r\n\t\t\t\t}else {\r\n\t\t\t\t\tthis.allPageNumber = parseInt(this.allDataNumber / this.everyPageNumber) + 1;\r\n\t\t\t\t}\r\n\t\t\t\tthis.tableContentChange();\r\n\t\t\t});\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tcheckboxChanged() {\t\t//总checkbox的状态改变函数\r\n\t\t\t\tthis.allSelectFlag = !this.allSelectFlag;\r\n\t\t\t},\r\n\t\t\tdataModify(item) {\t\t//点击某个数据修改按钮\r\n\t\t\t\tconsole.log(item);\r\n\t\t\t},\r\n\t\t\tdataDelete(item) {\t\t//点击某个数据删除按钮\r\n\t\t\t\tconsole.log(item);\r\n\t\t\t},\r\n\t\t\tchangeEveryPageNumber(item) {\t\t//改变每一页的数据条数\r\n\t\t\t\tthis.everyPageNumber = item;\r\n\t\t\t\t//重新设置总页数\r\n\t\t\t\tif(this.allDataNumber % this.everyPageNumber == 0) {\r\n\t\t\t\t\tthis.allPageNumber = this.allDataNumber / this.everyPageNumber;\r\n\t\t\t\t}else {\r\n\t\t\t\t\tthis.allPageNumber = parseInt(this.allDataNumber / this.everyPageNumber) + 1;\r\n\t\t\t\t}\r\n\t\t\t\t//如果之前活跃的某页数已经超过更新的总页数，则将活跃的页数设置为最后一页\r\n\t\t\t\tif(this.activePageNumber > this.allPageNumber) { \r\n\t\t\t\t\tthis.activePageNumber = this.allPageNumber;\r\n\t\t\t\t}\r\n\t\t\t\tthis.tableContentChange();\t\t\t//更新表格内容\r\n\t\t\t},\r\n\t\t\tchangeActivePageNumber(index) {\t\t\t//切换活跃的页面函数\r\n\t\t\t\tthis.pageRangeChage(index);\t\t\t//改变分页的页面范围函数\r\n\t\t\t\tthis.activePageNumber = index;\r\n\t\t\t\tthis.tableContentChange();\t\t\t//更新表格内容\r\n\t\t\t},\r\n\t\t\ttableContentChange() {\t\t\t//更新表格内容\r\n\t\t\t\tthis.$axios.get(this.dataUrl+ '?limit=' + this.everyPageNumber.toString() + '&offset=' + ((this.activePageNumber - 1) * this.everyPageNumber).toString()).then((res) => {\r\n\t\t\t\t\tthis.receiceData = res.data.data.rows;\r\n\t\t\t\t\tthis.localStartPageNumber = (this.activePageNumber - 1) * this.everyPageNumber + 1;\r\n\t\t\t\t\tif((this.allDataNumber - this.activePageNumber * this.everyPageNumber) > 0) {\r\n\t\t\t\t\t\tthis.localEndPageNumber = (this.activePageNumber - 1) * this.everyPageNumber + this.everyPageNumber;\r\n\t\t\t\t\t}else {\t\t\t//最后一页时\r\n\t\t\t\t\t\tthis.localEndPageNumber = this.allDataNumber;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tactivePageMove(type) {\t\t//左右单箭头与双箭头切换活跃页面的函数\r\n\t\t\t\tif(type == -1 && this.activePageNumber > 1) {\t\t//点击左单箭头时\r\n\t\t\t\t\tthis.pageRangeChage(this.activePageNumber - 1);\r\n\t\t\t\t\tthis.activePageNumber--;\r\n\t\t\t\t}else if(type == 1 && this.activePageNumber < this.allPageNumber) {\t\t//点击右单箭头时\r\n\t\t\t\t\tthis.pageRangeChage(this.activePageNumber + 1);\r\n\t\t\t\t\tthis.activePageNumber++;\r\n\t\t\t\t}else if(type == -2 && this.activePageNumber > 1) {\t\t//点击左双箭头时\r\n\t\t\t\t\tif(this.allPageNumber > 5) this.changePageRangeList = [1, 2, 3, 4, 5];\r\n\t\t\t\t\tthis.activePageNumber = 1;\r\n\t\t\t\t}else if(type == 2 && this.activePageNumber < this.allPageNumber) {\t\t//点击右双箭头时\r\n\t\t\t\t\tif(this.allPageNumber > 5) {\r\n\t\t\t\t\t\tfor(let i = 0; i < this.changePageRangeList.length; i++) {\r\n\t\t\t\t\t\t\tthis.changePageRangeList[i] = this.allPageNumber - 4 + i;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.activePageNumber = this.allPageNumber;\r\n\t\t\t\t}\r\n\t\t\t\tthis.tableContentChange();\r\n\t\t\t},\r\n\t\t\tpageRangeChage(index) {\t\t\t//改变分页的页面范围函数\r\n\t\t\t\t//点击的index左边或右边存在2个数的情况时\r\n\t\t\t\tif((index + 2 <= this.allPageNumber && index - 2 >= 1)) {\r\n\t\t\t\t\tlet tempNum = this.changePageRangeList[2];\r\n\t\t\t\t\tfor(let i = 0; i < this.changePageRangeList.length; i++) {\r\n\t\t\t\t\t\tthis.changePageRangeList[i] += index - tempNum;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t//点击的index左边只存在一个数的情况，单独考虑，只向左移一位\r\n\t\t\t\tif(index == this.changePageRangeList[0] && index > 1) {\r\n\t\t\t\t\tfor(let i = 0; i < this.changePageRangeList.length; i++) {\r\n\t\t\t\t\t\tthis.changePageRangeList[i] -= 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t//击的index右边只存在一个数的情况，单独考虑，只向右移一位\r\n\t\t\t\telse if(index == this.changePageRangeList[4] && index < this.allPageNumber) {\r\n\t\t\t\t\tfor(let i = 0; i < this.changePageRangeList.length; i++) {\r\n\t\t\t\t\t\tthis.changePageRangeList[i] += 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n</style>\n"]}]}