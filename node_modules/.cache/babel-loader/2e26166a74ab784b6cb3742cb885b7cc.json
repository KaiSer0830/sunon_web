{"remainingRequest":"E:\\daily software download\\Git_files\\KaiSer0830\\sunon_web\\node_modules\\babel-loader\\lib\\index.js!E:\\daily software download\\Git_files\\KaiSer0830\\sunon_web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\daily software download\\Git_files\\KaiSer0830\\sunon_web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\daily software download\\Git_files\\KaiSer0830\\sunon_web\\src\\components\\system\\tools\\TableData.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\daily software download\\Git_files\\KaiSer0830\\sunon_web\\src\\components\\system\\tools\\TableData.vue","mtime":1617895766148},{"path":"E:\\daily software download\\Git_files\\KaiSer0830\\sunon_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1614665819498},{"path":"E:\\daily software download\\Git_files\\KaiSer0830\\sunon_web\\node_modules\\babel-loader\\lib\\index.js","mtime":1614665890939},{"path":"E:\\daily software download\\Git_files\\KaiSer0830\\sunon_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1614665819498},{"path":"E:\\daily software download\\Git_files\\KaiSer0830\\sunon_web\\node_modules\\vue-loader\\lib\\index.js","mtime":1614665880007}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nexport default {\n  props: {\n    dataUrl: {\n      type: String,\n      default: 'http://121.43.158.185:8082/system/company/companyList'\n    }\n  },\n  data: function data() {\n    return {\n      receiceData: [],\n      //接口接收的所有数据\n      allSelectFlag: false,\n      //checkbox全选标志位\n      localStartPageNumber: 0,\n      //当页的开始数据条数\n      localEndPageNumber: 0,\n      //当页的结束数据条数\n      everyPageNumber: 10,\n      //每页的数据条数 \n      allPageNumber: 0,\n      //所有的页数\n      allDataNumber: 0,\n      //所有的数据条数\n      selectPageNumList: [10, 25, 50, 100],\n      //每页记录条数设置的列表\n      activePageNumber: 1,\n      //当前活跃的页数\n      changePageRangeList: [1, 2, 3, 4, 5] //总页数超过5页时的最大显示页数\n\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$axios.get(this.dataUrl).then(function (res) {\n      // console.log(res.data);\n      _this.allDataNumber = res.data.data.total;\n\n      if (_this.allDataNumber % _this.everyPageNumber == 0) {\n        _this.allPageNumber = _this.allDataNumber / _this.everyPageNumber;\n      } else {\n        _this.allPageNumber = parseInt(_this.allDataNumber / _this.everyPageNumber) + 1;\n      }\n\n      _this.tableContentChange();\n    });\n  },\n  methods: {\n    checkboxChanged: function checkboxChanged() {\n      //总checkbox的状态改变函数\n      this.allSelectFlag = !this.allSelectFlag;\n    },\n    dataModify: function dataModify(item) {\n      //点击某个数据修改按钮\n      console.log(item);\n    },\n    dataDelete: function dataDelete(item) {\n      //点击某个数据删除按钮\n      console.log(item);\n    },\n    changeEveryPageNumber: function changeEveryPageNumber(item) {\n      //改变每一页的数据条数\n      this.everyPageNumber = item; //重新设置总页数\n\n      if (this.allDataNumber % this.everyPageNumber == 0) {\n        this.allPageNumber = this.allDataNumber / this.everyPageNumber;\n      } else {\n        this.allPageNumber = parseInt(this.allDataNumber / this.everyPageNumber) + 1;\n      } //如果之前活跃的某页数已经超过更新的总页数，则将活跃的页数设置为最后一页\n\n\n      if (this.activePageNumber > this.allPageNumber) {\n        this.activePageNumber = this.allPageNumber;\n      }\n\n      this.tableContentChange(); //更新表格内容\n    },\n    changeActivePageNumber: function changeActivePageNumber(index) {\n      //切换活跃的页面函数\n      this.pageRangeChage(index); //改变分页的页面范围函数\n\n      this.activePageNumber = index;\n      this.tableContentChange(); //更新表格内容\n    },\n    tableContentChange: function tableContentChange() {\n      var _this2 = this;\n\n      //更新表格内容\n      this.$axios.get(this.dataUrl + '?limit=' + this.everyPageNumber.toString() + '&offset=' + ((this.activePageNumber - 1) * this.everyPageNumber).toString()).then(function (res) {\n        _this2.receiceData = res.data.data.rows;\n        _this2.localStartPageNumber = (_this2.activePageNumber - 1) * _this2.everyPageNumber + 1;\n\n        if (_this2.allDataNumber - _this2.activePageNumber * _this2.everyPageNumber > 0) {\n          _this2.localEndPageNumber = (_this2.activePageNumber - 1) * _this2.everyPageNumber + _this2.everyPageNumber;\n        } else {\n          //最后一页时\n          _this2.localEndPageNumber = _this2.allDataNumber;\n        }\n      });\n    },\n    activePageMove: function activePageMove(type) {\n      //左右单箭头与双箭头切换活跃页面的函数\n      if (type == -1 && this.activePageNumber > 1) {\n        //点击左单箭头时\n        this.pageRangeChage(this.activePageNumber - 1);\n        this.activePageNumber--;\n      } else if (type == 1 && this.activePageNumber < this.allPageNumber) {\n        //点击右单箭头时\n        this.pageRangeChage(this.activePageNumber + 1);\n        this.activePageNumber++;\n      } else if (type == -2 && this.activePageNumber > 1) {\n        //点击左双箭头时\n        if (this.allPageNumber > 5) this.changePageRangeList = [1, 2, 3, 4, 5];\n        this.activePageNumber = 1;\n      } else if (type == 2 && this.activePageNumber < this.allPageNumber) {\n        //点击右双箭头时\n        if (this.allPageNumber > 5) {\n          for (var i = 0; i < this.changePageRangeList.length; i++) {\n            this.changePageRangeList[i] = this.allPageNumber - 4 + i;\n          }\n        }\n\n        this.activePageNumber = this.allPageNumber;\n      }\n\n      this.tableContentChange();\n    },\n    pageRangeChage: function pageRangeChage(index) {\n      //改变分页的页面范围函数\n      //点击的index左边或右边存在2个数的情况时\n      if (index + 2 <= this.allPageNumber && index - 2 >= 1) {\n        var tempNum = this.changePageRangeList[2];\n\n        for (var i = 0; i < this.changePageRangeList.length; i++) {\n          this.changePageRangeList[i] += index - tempNum;\n        }\n      } //点击的index左边只存在一个数的情况，单独考虑，只向左移一位\n\n\n      if (index == this.changePageRangeList[0] && index > 1) {\n        for (var _i = 0; _i < this.changePageRangeList.length; _i++) {\n          this.changePageRangeList[_i] -= 1;\n        }\n      } //击的index右边只存在一个数的情况，单独考虑，只向右移一位\n      else if (index == this.changePageRangeList[4] && index < this.allPageNumber) {\n          for (var _i2 = 0; _i2 < this.changePageRangeList.length; _i2++) {\n            this.changePageRangeList[_i2] += 1;\n          }\n        }\n    }\n  }\n};",{"version":3,"sources":["TableData.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div class=\"table_containter\">\r\n\t\t<div class=\"table_head\">\r\n\t\t\t<div class=\"table_button_box\">\r\n\t\t\t\t<span class=\"table_button_box_word\">+</span>添加\r\n\t\t\t</div>\r\n\t\t\t<div class=\"table_input_box\">\r\n\t\t\t\t<input class=\"table_input_frame\" />\r\n\t\t\t\t<div class=\"table_input_frame_button\">查询</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"table_content\">\r\n\t\t\t<table class=\"table table-bordered table-hover table-striped\">\r\n\t\t\t\t<thead>\r\n\t\t\t\t\t<tr v-if=\"allDataNumber != 0\">\r\n\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t<input type=\"checkbox\" @click=\"checkboxChanged()\"></input>\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t<th v-for=\"(item, key, index) in receiceData[0]\">{{key}}</th>\r\n\t\t\t\t\t\t<th>操作</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t<tr  v-for=\"(item, index) in receiceData\" class=\"active\">\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<input type=\"checkbox\" :checked=\"allSelectFlag\"></input>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td v-for=\"(subItem, subIndex) in item\">{{subItem}}</td>\r\n\t\t\t\t\t\t<td class=\"operate_button\">\r\n\t\t\t\t\t\t\t<div class=\"modify_button\">\r\n\t\t\t\t\t\t\t\t<img src=\"../../../assets/system/table/modify.png\" @click=\"dataModify(item)\"/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"delete_button\">\r\n\t\t\t\t\t\t\t\t<img src=\"../../../assets/system/table/delete.png\"  @click=\"dataDelete(item)\"/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t\t<div class=\"table_bottom\">\r\n\t\t\t<div v-if=\"allDataNumber != 0\" class=\"table_left_number_info\">\r\n\t\t\t\t<div v-if=\"allDataNumber <= 10\">\r\n\t\t\t\t\t显示第1到{{allDataNumber}}条记录，总共{{allDataNumber}}条记录\r\n\t\t\t\t</div>\r\n\t\t\t\t<div v-else class=\"table_left_more_number\">\r\n\t\t\t\t\t<span>显示第{{localStartPageNumber}}到{{localEndPageNumber}}条记录，总共{{allDataNumber}}条记录，每页显示</span>\r\n\t\t\t\t\t<div class=\"table_left_select_box\">\r\n\t\t\t\t\t\t<div class=\"table_left_select_content\">\r\n\t\t\t\t\t\t\t<span>{{everyPageNumber}}</span>\r\n\t\t\t\t\t\t\t<img src=\"../../../assets/system/table/up_arrow.png\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"select_box_dropup_content\">\r\n\t\t\t\t\t\t\t<div v-for=\"item in selectPageNumList\" class=\"select_box_dropup_row\" @click=\"changeEveryPageNumber(item)\">{{item}}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<span>条记录</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div v-if=\"allPageNumber > 1\" class=\"table_right_page_info\">\r\n\t\t\t\t<div class=\"table_right_square\" @click=\"activePageMove(-2)\">\r\n\t\t\t\t\t<img src=\"../../../assets/system/table/left_double_arrow.png\"/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"table_right_square\" @click=\"activePageMove(-1)\">\r\n\t\t\t\t\t<img src=\"../../../assets/system/table/left_arrow.png\"/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div v-if=\"allPageNumber <= 5\" v-for=\"index in allPageNumber\" :class=\"index == activePageNumber ? 'table_right_square_active':'table_right_square_num'\" @click=\"changeActivePageNumber(index)\">\r\n\t\t\t\t\t{{index}}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div v-if=\"allPageNumber > 5\" v-for=\"index in changePageRangeList\" :class=\"index == activePageNumber ? 'table_right_square_active':'table_right_square_num'\" @click=\"changeActivePageNumber(index)\">\r\n\t\t\t\t\t{{index}}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"table_right_square\" @click=\"activePageMove(1)\">\r\n\t\t\t\t\t<img src=\"../../../assets/system/table/right_arrow.png\"/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"table_right_square\" @click=\"activePageMove(2)\">\r\n\t\t\t\t\t<img src=\"../../../assets/system/table/right_double_arrow.png\"/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport axios from 'axios'\r\n\texport default {\r\n\t\tprops: {\r\n\t\t\tdataUrl: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'http://121.43.158.185:8082/system/company/companyList'\r\n\t\t\t},\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\treceiceData: [],\t\t\t//接口接收的所有数据\r\n\t\t\t\tallSelectFlag: false,\t\t//checkbox全选标志位\r\n\t\t\t\tlocalStartPageNumber: 0,\t\t//当页的开始数据条数\r\n\t\t\t\tlocalEndPageNumber: 0,\t\t//当页的结束数据条数\r\n\t\t\t\teveryPageNumber: 10,\t\t//每页的数据条数 \r\n\t\t\t\tallPageNumber: 0,\t\t\t//所有的页数\r\n\t\t\t\tallDataNumber: 0,\t\t\t//所有的数据条数\r\n\t\t\t\tselectPageNumList: [10, 25, 50, 100],\t\t//每页记录条数设置的列表\r\n\t\t\t\tactivePageNumber: 1,\t\t//当前活跃的页数\r\n\t\t\t\tchangePageRangeList: [1, 2, 3, 4, 5]\t\t\t//总页数超过5页时的最大显示页数\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.$axios.get(this.dataUrl).then((res) => {\r\n\t\t\t\t// console.log(res.data);\r\n\t\t\t\tthis.allDataNumber = res.data.data.total;\r\n\t\t\t\tif(this.allDataNumber % this.everyPageNumber == 0) {\r\n\t\t\t\t\tthis.allPageNumber = this.allDataNumber / this.everyPageNumber;\r\n\t\t\t\t}else {\r\n\t\t\t\t\tthis.allPageNumber = parseInt(this.allDataNumber / this.everyPageNumber) + 1;\r\n\t\t\t\t}\r\n\t\t\t\tthis.tableContentChange();\r\n\t\t\t});\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tcheckboxChanged() {\t\t//总checkbox的状态改变函数\r\n\t\t\t\tthis.allSelectFlag = !this.allSelectFlag;\r\n\t\t\t},\r\n\t\t\tdataModify(item) {\t\t//点击某个数据修改按钮\r\n\t\t\t\tconsole.log(item);\r\n\t\t\t},\r\n\t\t\tdataDelete(item) {\t\t//点击某个数据删除按钮\r\n\t\t\t\tconsole.log(item);\r\n\t\t\t},\r\n\t\t\tchangeEveryPageNumber(item) {\t\t//改变每一页的数据条数\r\n\t\t\t\tthis.everyPageNumber = item;\r\n\t\t\t\t//重新设置总页数\r\n\t\t\t\tif(this.allDataNumber % this.everyPageNumber == 0) {\r\n\t\t\t\t\tthis.allPageNumber = this.allDataNumber / this.everyPageNumber;\r\n\t\t\t\t}else {\r\n\t\t\t\t\tthis.allPageNumber = parseInt(this.allDataNumber / this.everyPageNumber) + 1;\r\n\t\t\t\t}\r\n\t\t\t\t//如果之前活跃的某页数已经超过更新的总页数，则将活跃的页数设置为最后一页\r\n\t\t\t\tif(this.activePageNumber > this.allPageNumber) { \r\n\t\t\t\t\tthis.activePageNumber = this.allPageNumber;\r\n\t\t\t\t}\r\n\t\t\t\tthis.tableContentChange();\t\t\t//更新表格内容\r\n\t\t\t},\r\n\t\t\tchangeActivePageNumber(index) {\t\t\t//切换活跃的页面函数\r\n\t\t\t\tthis.pageRangeChage(index);\t\t\t//改变分页的页面范围函数\r\n\t\t\t\tthis.activePageNumber = index;\r\n\t\t\t\tthis.tableContentChange();\t\t\t//更新表格内容\r\n\t\t\t},\r\n\t\t\ttableContentChange() {\t\t\t//更新表格内容\r\n\t\t\t\tthis.$axios.get(this.dataUrl+ '?limit=' + this.everyPageNumber.toString() + '&offset=' + ((this.activePageNumber - 1) * this.everyPageNumber).toString()).then((res) => {\r\n\t\t\t\t\tthis.receiceData = res.data.data.rows;\r\n\t\t\t\t\tthis.localStartPageNumber = (this.activePageNumber - 1) * this.everyPageNumber + 1;\r\n\t\t\t\t\tif((this.allDataNumber - this.activePageNumber * this.everyPageNumber) > 0) {\r\n\t\t\t\t\t\tthis.localEndPageNumber = (this.activePageNumber - 1) * this.everyPageNumber + this.everyPageNumber;\r\n\t\t\t\t\t}else {\t\t\t//最后一页时\r\n\t\t\t\t\t\tthis.localEndPageNumber = this.allDataNumber;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tactivePageMove(type) {\t\t//左右单箭头与双箭头切换活跃页面的函数\r\n\t\t\t\tif(type == -1 && this.activePageNumber > 1) {\t\t//点击左单箭头时\r\n\t\t\t\t\tthis.pageRangeChage(this.activePageNumber - 1);\r\n\t\t\t\t\tthis.activePageNumber--;\r\n\t\t\t\t}else if(type == 1 && this.activePageNumber < this.allPageNumber) {\t\t//点击右单箭头时\r\n\t\t\t\t\tthis.pageRangeChage(this.activePageNumber + 1);\r\n\t\t\t\t\tthis.activePageNumber++;\r\n\t\t\t\t}else if(type == -2 && this.activePageNumber > 1) {\t\t//点击左双箭头时\r\n\t\t\t\t\tif(this.allPageNumber > 5) this.changePageRangeList = [1, 2, 3, 4, 5];\r\n\t\t\t\t\tthis.activePageNumber = 1;\r\n\t\t\t\t}else if(type == 2 && this.activePageNumber < this.allPageNumber) {\t\t//点击右双箭头时\r\n\t\t\t\t\tif(this.allPageNumber > 5) {\r\n\t\t\t\t\t\tfor(let i = 0; i < this.changePageRangeList.length; i++) {\r\n\t\t\t\t\t\t\tthis.changePageRangeList[i] = this.allPageNumber - 4 + i;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.activePageNumber = this.allPageNumber;\r\n\t\t\t\t}\r\n\t\t\t\tthis.tableContentChange();\r\n\t\t\t},\r\n\t\t\tpageRangeChage(index) {\t\t\t//改变分页的页面范围函数\r\n\t\t\t\t//点击的index左边或右边存在2个数的情况时\r\n\t\t\t\tif((index + 2 <= this.allPageNumber && index - 2 >= 1)) {\r\n\t\t\t\t\tlet tempNum = this.changePageRangeList[2];\r\n\t\t\t\t\tfor(let i = 0; i < this.changePageRangeList.length; i++) {\r\n\t\t\t\t\t\tthis.changePageRangeList[i] += index - tempNum;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t//点击的index左边只存在一个数的情况，单独考虑，只向左移一位\r\n\t\t\t\tif(index == this.changePageRangeList[0] && index > 1) {\r\n\t\t\t\t\tfor(let i = 0; i < this.changePageRangeList.length; i++) {\r\n\t\t\t\t\t\tthis.changePageRangeList[i] -= 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t//击的index右边只存在一个数的情况，单独考虑，只向右移一位\r\n\t\t\t\telse if(index == this.changePageRangeList[4] && index < this.allPageNumber) {\r\n\t\t\t\t\tfor(let i = 0; i < this.changePageRangeList.length; i++) {\r\n\t\t\t\t\t\tthis.changePageRangeList[i] += 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n</style>\n"],"sourceRoot":"src/components/system/tools"}]}